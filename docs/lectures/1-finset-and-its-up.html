<!DOCTYPE html>
<html lang="en-US">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="UTF-8">
    <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Preliminaries: finite sets, convolution | Combinatorial species in TTU</title>
<meta name="generator" content="Jekyll v3.9.5">
<meta property="og:title" content="Preliminaries: finite sets, convolution">
<meta property="og:locale" content="en_US">
<meta name="description" content="The category $\bf Fin$ has objects the finite sets and morphisms all functions; a skeleton of $\bf Fin$ is the category whose objects are sets $[n]={1,\dots,n}$ for $n\ge 0$ (with the convention that $[0]=\varnothing$), and morphisms are functions $f : [n] \to [m]$.">
<meta property="og:description" content="The category $\bf Fin$ has objects the finite sets and morphisms all functions; a skeleton of $\bf Fin$ is the category whose objects are sets $[n]={1,\dots,n}$ for $n\ge 0$ (with the convention that $[0]=\varnothing$), and morphisms are functions $f : [n] \to [m]$.">
<link rel="canonical" href="http://localhost:4000/species/lectures/1-finset-and-its-up.html">
<meta property="og:url" content="http://localhost:4000/species/lectures/1-finset-and-its-up.html">
<meta property="og:site_name" content="Combinatorial species in TTU">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2026-01-16T18:14:02+02:00">
<meta name="twitter:card" content="summary">
<meta property="twitter:title" content="Preliminaries: finite sets, convolution">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2026-01-16T18:14:02+02:00","datePublished":"2026-01-16T18:14:02+02:00","description":"The category $\\bf Fin$ has objects the finite sets and morphisms all functions; a skeleton of $\\bf Fin$ is the category whose objects are sets $[n]={1,\\dots,n}$ for $n\\ge 0$ (with the convention that $[0]=\\varnothing$), and morphisms are functions $f : [n] \\to [m]$.","headline":"Preliminaries: finite sets, convolution","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/species/lectures/1-finset-and-its-up.html"},"url":"http://localhost:4000/species/lectures/1-finset-and-its-up.html"}</script>
<!-- End Jekyll SEO tag -->

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#157878">
    <link rel="stylesheet" href="/species/assets/css/style.css?v=">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
    <!-- The loading of KaTeX is deferred to speed up page rendering -->
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js" integrity="sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4" crossorigin="anonymous"></script>
    <!-- To automatically render math in text elements, include the auto-render extension: -->
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js" integrity="sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa" crossorigin="anonymous" onload="renderMathInElement(document.body,{macros:{ '':'', },delimiters:[{left:'$$',right:'$$',display:true},{left:'$',right:'$',display:false}]});"></script>

      </head>
      <body>
        <header id="header">
          <nav>
            <a href="/species/">◂</a>
            <a href="http://tetrapharmakon.github.io">home</a>
          </nav>
        </header>

    <main>
      <article>
    <!-- &bull;  &bull; -->
    <h1>Preliminaries: finite sets, convolution</h1>
    <p>The category $\bf Fin$ has objects the finite sets and morphisms all functions; a skeleton of $\bf Fin$ is the category whose objects are sets $[n]={1,\dots,n}$ for $n\ge 0$ (with the convention that $[0]=\varnothing$), and morphisms are functions $f : [n] \to [m]$.</p>

<h2 id="the-universal-property-of-bf-fin-and-bf-finbf-set">The universal property of $\bf Fin$ and $[{\bf Fin},{\bf Set}]$</h2>

<div id="theorem-1"></div>
<p><strong>Theorem</strong>. The category $\bf Fin$ is the free finite coproduct completion of the singleton $\bullet$.</p>

<p><em>Proof.</em> It is enough to show that a functor $\bf Fin \to \mathcal{C}$ that preserves coproducts is uniquely determined by the image of $[1]$, i.e. by $F[1]=X$; this is obvious, because</p>

<div class="kdmath">$$
F([n]) = \coprod_{i=1}^n F([1]) = \coprod_{i=1}^n X = [n] \otimes X
$$</div>

<p>(if $_ \otimes _$ denotes the <a href="https://ncatlab.org/nlab/show/tensor">tensor</a> of $X\in\mathcal{C}$ with the set $[n]$). $\blacksquare$</p>

<p>As an immediate corollary, the opposite category ${\bf Fin}^\text{op}$ is the free finite <em>product</em> completion of the singleton $\bullet$.</p>

<div id="theorem-2"></div>
<p><strong>Theorem.</strong> There is an equivalence of categories between</p>

<ol>
  <li>The category of all functors ${\bf Fin} \to {\bf Set}$, and natural transformations;</li>
  <li>The category of <em>finitary</em> endofunctors of $\bf Set$, i.e. those $T : {\bf Set} \to {\bf Set}$ that preserve <a href="https://ncatlab.org/nlab/show/filtered+limit">filtered colimits</a>.</li>
</ol>

<p><em>Proof.</em> Let’s first build an adjunction between the two categories; the “tautological” inclusion functor $J : {\bf Fin} \to {\bf Set}$ induces an adjunction</p>

<div class="kdmath">$$
\text{Lan}_J : [{\bf Fin}, {\bf Set}] \leftrightarrows [{\bf Set}, {\bf Set}] J^*
$$</div>

<p>where $J^*$ is the “precomposition with $J$” functor and $\text{Lan}_J$ its left adjoint. Such a left adjoint is fully faithful because $J$ is fully faithful, and this last condition entails that in the diagram</p>

<p><span class="antex display"><img src="/species/antex/dcc9e53033fcbae7037ee73f60071036.svg" style="margin: 0.0ex 0.0ex -9.832ex 0.0ex;
height: 12.337ex;
width: 14.454ex;"></span></p>

<p>The 2-cell $\eta : F \Rightarrow (\text{Lan}_J F)\circ J $ is invertible; $\eta$ is precisely the unit of the adjunction $\text{Lan}_J \dashv J^*$, and this, in turn, entails that the left adjoint in the adjunction is fully faithful.</p>

<p>It only remains to characterise the essential image of $\text{Lan}_J$ as the full subcategory of finitary functors on $\bf Set$. Once again, a general theorem comes to the rescue: the objects we are interested in are just the ones at whose components the counit of the adjunction $\text{Lan}_J \dashv J^*$ is an isomorphism; unwinding this condition, we get to prove that the following conditions are equivalent:</p>

<ol>
  <li>$T : {\bf Set} \to {\bf Set}$ is finitary;</li>
  <li>The counit $\epsilon_T : \text{Lan}_J(TJ) \Rightarrow T$ is a natural isomorphism.</li>
</ol>

<p>The equivalence is easily seen: assume $T$ is finitary, and unwind the counit using the universal property; given $A\in \bf Set$, the left Kan extension of $TJ$ along $J$, computed in $A$, is just the <a href="https://ncatlab.org/nlab/show/weighted+colimit">weighted colimit</a> of $TJ$ with weight $P={\bf Set}(J-, A)$, and this is, in turn, the colimit of $TJ$ over the (opposite of the) <a href="https://ncatlab.org/nlab/show/category+of+elements">category of elements</a> of $P$, i.e the colimit of the composition $T \circ \Sigma^\text{op}$, where the category of elements and the canonical projection $\Sigma$ appear in the upper left corner in the pullback</p>

<p><span class="antex display"><img src="/species/antex/c0d8023af752a3f55460f7b6e565ca0c.svg" style="margin: 0.0ex 0.0ex -11.638ex 0.0ex;
height: 13.708ex;
width: 19.15ex;"></span></p>

<p>This category is filtered, so in the end $\lambda A.\text{Lan}_J(TJ)A\cong \lambda A.T((\text{Lan}_J J)A)\cong \lambda A.TA$, naturally in $A$ (because $\text{Lan}_JJ$ is isomorphic to the identity functor). $\blacksquare$</p>

<div id="label-3"></div>
<p><strong>Remark.</strong> From a higher perspective, this is a consequence of a more general theorem (but this explanation is imprecise); given a suitable class of “shapes”, i.e. a subcategory $\mathcal{D} \subseteq {\bf Cat}$, there is an equivalence of categories between</p>

<ol>
  <li>The category of all functors $F_\mathcal{D}(\bullet) \to {\bf Set}$, and natural transformations;</li>
  <li>The category of endofunctors of $\bf Set$ that commute with $\mathcal{D}$-filtered colimits,</li>
</ol>

<p>where $F_\mathcal{D}(\bullet)$ is the free completion of the point under $\mathcal{D}$-shaped limits.</p>

<div id="label-4"></div>
<p><strong>Fact.</strong> Given an equivalence of categories $F :{\cal V} \leftrightarrows {\cal W} : G$, where $\cal V$ is (symmetric) monoidal, there is an essentially unique way to give $\cal W$ a monoidal structure, so that $F,G$ become <a href="https://ncatlab.org/nlab/show/monoidal+functor">strong monoidal functors</a>.</p>

<p><em>Sketch of proof.</em> Let’s say $(\otimes, I)$ is a monoidal structure on $\cal V$. Define a tensor product on $\cal W$ using $F,G$: $(X,Y)\mapsto X\odot Y= F(GX \otimes GY)$. Define a monoidal unit $K:= GI$. Straightforward from here. $\blacksquare$</p>

<div id="label-5"></div>
<p><strong>Corollary.</strong> Under the same notation as above, there is an equivalence of categories</p>

<div class="kdmath">$$
\text{Mon}({\cal V}) \leftrightarrows \text{Mon}({\cal W})
$$</div>

<p>induced by $(F,G)$ between internal monoids in $(\cal V, \otimes, I)$ and internal monoids in $(\cal W, \odot, K)$.</p>

<div id="label-6"></div>
<p><strong>Remark.</strong> The category of all endofunctors of $\bf Set$ is strict monoidal, with respect to composition of functors. The category $[{\bf Set}, {\bf Set}]_\omega$ of finitary endofunctors inherits a strict monoidal structure from $[{\bf Set}, {\bf Set}]$, because the composition of finitary functors is again finitary.</p>

<p>As a consequence, the category $[{\bf Fin}, {\bf Set}]$ inherits a (non strict) monoidal structure, called the <em>substitution product</em>: the substitution of a pair of functors $M,N : {\bf Fin}\to{\bf Set}$ is the functor</p>

<div class="kdmath">$$
[n] \mapsto M \triangleleft N := (\text{Lan}_J M \circ \text{Lan}_J N) \circ J = \text{Lan}_J M \circ N
$$</div>

<p><em>Exercise.</em> Unwind the definition of $\text{Lan}_J M \circ N$ finding an explicit formula for $M\triangleleft N$. (We will come back to this.)</p>

<p>An additional introductory remark introduces the universal property of the presheaf category.</p>

<div id="theorem-3"></div>
<p><strong>Theorem.</strong> Let $\cal C$ be a small category; the category $[{\cal C}^\text{op}, {\bf Set}]$ is the free small cocomplete category generated by $\cal C$.</p>

<p><em>Proof.</em> This means that there is an isomorphism of categories between</p>

<ol>
  <li>The category of functors ${\cal C} \to {\cal D}$, when $\cal D$ is small-cocomplete;</li>
  <li>The category of cocontinuous functors $[{\cal C}^\text{op}, {\bf Set}] \to \cal D$.</li>
</ol>

<p>The equivalence is induced by the functor “precomposition with the Yoneda embedding” ${\cal C} \to [{\cal C}^\text{op}, {\bf Set}]$, that defines a correspondence</p>

<div class="kdmath">$$
{\sf Cat}([{\cal C}^\text{op}, {\bf Set}], {\cal D}) \to {\sf Cat}({\cal C}, \cal D).
$$</div>

<p>The last introductory remark is about the so-called <em>convolution product</em> of functors. Given a monoidal category $({\cal A}, \otimes, I)$ we can endow the presheaf category $[{\cal A}^\text{op}, {\bf Set}]$ with a monoidal structure such that the Yoneda embedding $y : {\cal A} \to [{\cal A}^\text{op}, {\bf Set}]$ is a strong monoidal functor (in fact, the operation built in this way is universal with respect to this property).</p>

<p>Let $F,G : {\cal A}^\text{op} \to {\bf Set}$ be functors; define their <em>Day convolution</em> as the functor $F * G : {\cal A}^\text{op} \to {\bf Set}$ obtained as left Kan extension of $F\times G$ along $\otimes$, i.e. as the curved arrow in the following diagram</p>

<p><span class="antex display"><img src="/species/antex/e5660ce5f417b6b7c48f979e61974e56.svg" style="margin: 0.0ex 0.0ex -9.932ex 0.0ex;
height: 12.63ex;
width: 40.091ex;"></span></p>

<p>More explicitly, $F * G$ acts on objects as the <a href="https://en.wikipedia.org/wiki/Brazilian_porcupine">integral</a></p>

<div class="kdmath">$$
\lambda A. \int^{U,V \in \cal A} FU \times GV \times {\cal A}(A,U\otimes V)
$$</div>

<p>and on morphism (natural transformations of presheaves) by the evident functoriality of this construction.</p>

<p>(<em>Exercise</em>: Prove that if $\cal A$ is a cartesian category (i.e., $\otimes = \times$) then $F * G \cong F\times G$; prove that the monoidal unit of $*$ is the representable presheaf $y(I)$ on the monoidal unit of $({\cal A}, \otimes)$.)</p>

<p>Refer to [???,???] for more information.</p>

<h4 id="reading-list">Reading list</h4>

<p>…</p>

</article>

    </main>

    <footer id="footer">
      <nav>
        <a href="/species/">◂</a>
        <a href="#header">▴</a>
      </nav>
    </footer>
  </body>
</html>
