<!DOCTYPE html>
<html lang="en-US">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="UTF-8">
    <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Computation: some explicit combinatorial identities | Combinatorial species in TTU</title>
<meta name="generator" content="Jekyll v3.9.5">
<meta property="og:title" content="Computation: some explicit combinatorial identities">
<meta property="og:locale" content="en_US">
<meta name="description" content="We have seen that to a combinatorial species we can associate at least two important invariants “quantities”, i.e. two formal power series from which we can deduce properties of the species. If $|X_n|$ denotes the cardinality of a set, and $F : {\bf B} \to {\bf Set}$ is a combinatorial species,">
<meta property="og:description" content="We have seen that to a combinatorial species we can associate at least two important invariants “quantities”, i.e. two formal power series from which we can deduce properties of the species. If $|X_n|$ denotes the cardinality of a set, and $F : {\bf B} \to {\bf Set}$ is a combinatorial species,">
<link rel="canonical" href="http://localhost:4000/species/lectures/4-computations.html">
<meta property="og:url" content="http://localhost:4000/species/lectures/4-computations.html">
<meta property="og:site_name" content="Combinatorial species in TTU">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2026-01-17T18:16:16+02:00">
<meta name="twitter:card" content="summary">
<meta property="twitter:title" content="Computation: some explicit combinatorial identities">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2026-01-17T18:16:16+02:00","datePublished":"2026-01-17T18:16:16+02:00","description":"We have seen that to a combinatorial species we can associate at least two important invariants “quantities”, i.e. two formal power series from which we can deduce properties of the species. If $|X_n|$ denotes the cardinality of a set, and $F : {\\bf B} \\to {\\bf Set}$ is a combinatorial species,","headline":"Computation: some explicit combinatorial identities","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/species/lectures/4-computations.html"},"url":"http://localhost:4000/species/lectures/4-computations.html"}</script>
<!-- End Jekyll SEO tag -->

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#157878">
    <link rel="stylesheet" href="/species/assets/css/style.css?v=">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
    <!-- The loading of KaTeX is deferred to speed up page rendering -->
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js" integrity="sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4" crossorigin="anonymous"></script>
    <!-- To automatically render math in text elements, include the auto-render extension: -->
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js" integrity="sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa" crossorigin="anonymous" onload="renderMathInElement(document.body,{macros:{ '':'', },delimiters:[{left:'$$',right:'$$',display:true},{left:'$',right:'$',display:false}]});"></script>

      </head>
      <body>
        <header id="header">
          <nav>
            <a href="/species/">◂</a>
            <a href="http://tetrapharmakon.github.io">home</a>
          </nav>
        </header>

    <main>
      <article>
    <!-- &bull;  &bull; -->
    <h1>Computation: some explicit combinatorial identities</h1>
    <p>We have seen that to a combinatorial species we can associate at least two important invariants “quantities”, i.e. two formal power series from which we can deduce properties of the species. If $|X_n|$ denotes the cardinality of a set, and $F : {\bf B} \to {\bf Set}$ is a combinatorial species,</p>

<ul>
  <li>the <em>generating series</em> of $F$ is defined as the formal power series in $t$</li>
</ul>

<div class="kdmath">$$
\sum_{k\ge 1} \frac{|F[n]|}{n!} t^n
$$</div>

<ul>
  <li>its <em>type</em> generating series, instead, is defined as</li>
</ul>

<div class="kdmath">$$
\sum_{k\ge 1} |\pi_0 F[n]| t^n
$$</div>

<p>where the notation $\pi_0 F[n]$ denotes the quotient set $F[n]/S_n$ under the action of the symmetric group $S_n$ over $F[n]$. (This is no more and no less than the space of orbits of the action $S_n \curvearrowright F[n]$.)</p>

<p>For example: if $\cal C$ is the species of oriented cycles on finite sets, and $\wp$ is the species of subsets, we can consider the product species $C\times \wp$ that sends a finite set into a cyclic order of its elements, <em>on top of which</em> there is the choice of a subset $U\subseteq[n]$: the elements $(12345,\{2,3,5\})$ and $(12345,\{1,2,5\})$ of $C\times \wp[5]$ are respectively given by</p>

<p><span class="antex display"><img src="/species/antex/07748b4a5875c0c7f0c0cc9bcae0e1f6.svg" style="margin: 0.0ex 0.0ex 0.0ex 0.0ex;
height: 15.007ex;
width: 42.056ex;"></span></p>

<p>We have that</p>

<div class="kdmath">$$
{\cal C}[n] =(n-1)! \quad(\text{for } n\ge 1)\qquad \qquad \wp[n] = 2^n
$$</div>

<p>so that their product ${\cal C} \times \wp$ sends $n\ge 1$ to $(n-1)! \cdot 2^n$, and thus the type generating series of the product is</p>

<div class="kdmath">$$
\sum_{n=1}^\infty \big((n-1)! \cdot 2^n\big) \frac{t^n}{n!} = \sum_{n=1}^\infty \frac{2^n t^n}{n} = \log\left( \frac1{1-2t}\right)
$$</div>

<p>The generating series of a combinatorial species is a powerful, but relatively coarse, invariant of the species: for example, the species $S$ of permutations and the species $L$ of linear orders have the same generating species because $|{S}[n]| = n! = | {L}[n] |$, so that</p>

<div class="kdmath">$$
g_{S}(t) = \sum_{n=0}^\infty t^n = \frac1{1-t} = g_{L}(t).
$$</div>

<p>The type generating series of $S$ and $L$ are, however, different, because the sets of orbits $|{S}[n]| / S_n$ and $| {L}[n] | / S_n$ have different cardinalities (the action of $S_n$ on linear orderings is transitive):</p>

<div class="kdmath">$$
\tilde{g}_{S}(t) = \exp \sum_{k\ge 1} \frac1k \frac{t^k}{1-t^k} \qquad \qquad  \tilde{g}_{L}(t) = \frac1{1-t}
$$</div>

<p>In order to gain a deeper understanding of the combinatorial species $F$ through an algebraic gadget, we have to introduce the <em>cycle index series</em> of $F$:</p>

<div class="kdmath">$$
\dots
$$</div>

<p>Computations of a few simple $Z$’s; for $E$ an $\cal C$. In general, computations of $Z_F$’s that do not use sophisticated infinite series’ summing techniques are rare or even impossible. More than often, an explicit formula for $Z_F$ relies on mysterious combinatorial identities (through which a clever manipulation of $Z_F$’s can shed light on <em>even more mysterious</em> combinatorial identities).</p>

<p>Cycle index series are, however, an unavoidable tool in the calculus of combinatorial species; in fact, they play a fundamental role in expressing the formula for the type generating series of substitution of a species into another:</p>

<div class="kdmath">$$
\tilde{g}_{F \triangleleft G}(t) = Z_F(\tilde G(t), \tilde G(t^2), \tilde G(t^3),\dots)
$$</div>

<p>This formula can be used in order to obtain the expression of $Z_{S}$ in terms of $Z_E$, and $Z_{\cal C}$, and the formula for the cycle index series yields the identity</p>

<div class="kdmath">$$
\prod_{k\ge 1} \frac1{1-t^k} = \exp \sum_{k\ge 1} \frac1k \frac{t^k}{1-t^k}
$$</div>

<p>or the remarkable explicit expression for the type generating series of ${\cal C}\times \wp$ above:</p>

<div class="kdmath">$$
\tilde{g}_{\cal C \times \wp}(t) = \sum_{n\ge 1} \left( \frac 1n \sum_{d | n} \varphi(d) 2^{n/d} \right) t^n
$$</div>

<p>where $\varphi(-)$ is the Euler function, and the inner sum is extended over all divisors of $n$.</p>

<p>As fascinating as it certainly looks, this exposition’s accent is not on the bare combinatorics, but instead on the category theory! So let us not delve into the details of how the former identities have been derived.</p>

<p>Instead, let us review one motivating example of a combinatorial identity <em>derived</em> from a couple of black boxes but whose combinatorial interpretation is elucidated by the language of combinatorial species.</p>

<p><strong>Theorem.</strong> Let $a = \sum_{k\ge 1} \frac{a_k}{k}$, $a_0 = \sum_{k\ge 1} \frac{a_{2k}}{2k}$ and $a_1 = \sum_{k\ge 0} \frac{a_{2k+1}}{2k+1}$ be three formal power series in the ring $\mathbb{Q}\llbracket a_1, a_2, a_3,\dots\rrbracket$. Then,</p>

<div class="kdmath">$$
e^a = \exp\left(a_1 + \frac{a_2}2 + \frac{a_3}3 + \dots\right) = e^{a_0}(\cosh a_1 + \sinh a_1).
$$</div>

<p><em>Proof.</em> The terminal species $E$ splits as the sum of two species $E_e, E_o$, of <em>even sets</em> and <em>odd sets</em> respectively: formally,</p>

<div class="kdmath">$$
E_e[n] = \begin{cases} \{\bullet\} &amp; n = 2k \\ \varnothing &amp; n = 2k+1 \end{cases} \qquad \qquad
E_o[n] = \begin{cases} \{\bullet\} &amp; n = 2k+1 \\ \varnothing &amp; n = 2k \end{cases}
$$</div>

<p>so it is clear that $E = E_e + E_o$. Now, the relation $Z_E = Z_{E_e} + Z_{E_o}$ holds true, and from this we can derive the desired identity by observing that</p>

<div class="kdmath">$$
Z_{E_e} = \frac12 \left( Z_E(x_1, x_2,x_3,\dots) + Z_E(-x_1,x_2,-x_3,\dots)\right) \qquad (\star^1)
$$</div>

<p>and</p>

<div class="kdmath">$$
Z_{E_o} = \frac12 \left( Z_E(x_1, x_2,x_3,\dots) - Z_E(-x_1,x_2,-x_3,\dots)\right). \qquad (\star^2)
$$</div>

<p>A brute-force computation now shows that the LHS of $Z_E = Z_{E_e} + Z_{E_o}$ is precisely $e^a = \exp\left(a_1 + \frac{a_2}2 + \frac{a_3}3 + \dots\right)$ and the RHS simplifies to $e^{a_0}(\cosh a_1 + \sinh a_1)$.</p>

<p>We will see in the <a href="./5-species-and-analytic-functors-wide-pullbacks.html">following lecture</a> that every species $F$ can be written as the sum of its “even” part and its “odd” part, thanks to the fact that every species $F$ admits a canonical decomposition as a coproduct</p>

<div class="kdmath">$$
F = F_0 + F_1 + F_2 + \dots
$$</div>

<p>So, $F_e := F_0 + F_2 + F_4 +\dots$ and $F_o := F_1 + F_3 + F_5 + \dots$. A relation similar to $(\star^1, \star^2)$ holds for the cycle index series of $F$.</p>

<p>For example, we can split the species of permutations in its even and odd part as follows:</p>

<div class="kdmath">$$
Z_{S_e} = \frac12\left( \prod_{k\ge 1} \frac1{1-x_k} + \prod_{k\ge 1} \frac1{1-(-1)^k x_k} \right)
$$</div>

<p>and</p>

<div class="kdmath">$$
Z_{S_o} = \frac12\left( \prod_{k\ge 1} \frac1{1-x_k} - \prod_{k\ge 1} \frac1{1-(-1)^k x_k} \right)
$$</div>

<p>I do not know of any meaningful simplification for these formal power series in $x_1,x_2,\dots$; from this, however we can obtain the (type) generating series of $S_e, S_o$ as follows:</p>

<div class="kdmath">$$
g_{S_e}(t) = \frac12\left( \frac1{1-t} + \frac1{1 + t} \right)\qquad\qquad
g_{S_o}(t) = \frac12\left( \frac1{1-t} - \frac1{1 + t} \right)
$$</div>

<p>and</p>

<div class="kdmath">$$
\tilde g_{S_e}(t) = \frac12\left( \prod_{k\ge 1} \frac1{1-t^k} + \prod_{k\ge 1} \frac1{1-(-1)^k t^k} \right)\qquad
\tilde g_{S_o}(t) = \frac12\left( \prod_{k\ge 1} \frac1{1-t^k} - \prod_{k\ge 1} \frac1{1-(-1)^k t^k} \right).
$$</div>

<h4 id="reading-list">Reading list</h4>

<p>…</p>

</article>

    </main>

    <footer id="footer">
      <nav>
        <a href="/species/">◂</a>
        <a href="#header">▴</a>
      </nav>
    </footer>
  </body>
</html>
